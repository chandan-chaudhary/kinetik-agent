
@base_url = http://localhost:3001/api/
@threadId =query_1769783037593_3wyj7v0mrhk

### Check app running
GET {{base_url}}

### ASK Query
POST {{base_url}}langgraph/query-dbgraph
Content-Type: application/json

{
    "prompt": "list all user who purchased susbscription anytime"
}

# Response will contain:
# - interrupted: true
# - threadId: "query_xxx..."
# - context: { question, generatedSql, queryResult, userQuery, sqlAttempts }

### 2. Approve the SQL query (Continue workflow)
POST {{base_url}}langgraph/approve
Content-Type: application/json

{
  "threadId": "{{threadId}}",
  "approved": true,
  "feedback": null
}

### 3. Reject and provide feedback (Regenerate SQL)
POST {{base_url}}approve
Content-Type: application/json

{
  "threadId": "{{threadId}}",
  "approved": false,
  "feedback": "Also add created and updated at fields"
}

# The workflow will:
# 1. Take your feedback
# 2. Regenerate SQL with the feedback included
# 3. Execute the new SQL
# 4. Pause again for approval (returning interrupted: true)
